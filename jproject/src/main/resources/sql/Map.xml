<?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapns">
	<resultMap id="maprm" type="maps">
		<result property="ano"   	column="ano" />
		<result property="mapno"	column="mapno" />
		<result property="mloc"		column="mloc" />
		<result property="mmemo"	column="mmemo" />
		<result property="mlat"		column="mlat" />
		<result property="mlng"		column="mlng" />
	</resultMap> 

	<insert id="MapAdd" parameterType="maps">
		insert into map values (#{ano},#{mapno},#{mloc},#{mmemo},#{mlat},#{mlng})
	</insert> 
	
	<select id="MapList" parameterType="maps" resultMap="maprm">
 		select * from (select a.*, rowNum rn from(
 			select * from map order by ano desc, mapno desc) a )
			where rn between #{startRow} and #{endRow}
	</select>

	<select id="getMapTotal" parameterType="maps" resultType="int">
		select count(*) from map
	</select>
	
	<select id="MapUpdateList" parameterType="int" resultMap="maprm">
 		select a.*, rowNum rn from (select * from map where ano=#{ano} order by mapno asc) a
	</select>
	
	<delete id="MapDelete" parameterType="int">
		delete from map where ano=#{ano}
	</delete>
	
</mapper>
