<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="memberns">

				  
	<!-- 회원가입 -->
    <insert id="insertMember" parameterType="mb"> 
    	insert into member(id,passwd,name,nickname,age,gender,zip,address1,address2,email,
    	phone,profile,intro,register,memberpoint,state,delcont,deldate,travel) values (#{id}, #{passwd}, #{name}, #{nickname}, #{age}, 
    	#{gender}, #{zip}, #{address1}, #{address2}, #{email}, #{phone},
    	#{profile,jdbcType=VARCHAR}, #{intro}, sysdate, 0, '1', '', sysdate, '0') <!-- #{delcont},sysdate -->
    </insert>   
    
    
	<!-- ID 로그인 인증 / 중복검사 -->
	<select id="idlogin" parameterType="String" resultType="mb">
    <!--  select * from member where id=#{id} and state=0 -->
     select * from member where id=#{id} and state='1'
    </select>
	
	
	<!-- 닉네임 중복검사 -->
	<select id="nicklogin" parameterType="String" resultType="mb">
    <!--  select * from member where id=#{id} and state=0 -->
     select * from member where nickname=#{nickname} and state='1'
    </select>
    
    
     <!-- ID 찾기 검색 -->
	<select id="idFind" parameterType="mb" resultType="mb">
     select * from member where name=#{name} and email=#{email}
    </select>
    
    
	 <!-- 비밀번호 찾기 검색 -->
    <select id="pwdFind" parameterType="mb" resultType="mb">
     select * from member where id=#{id} and name=#{name}
    </select>
    
   
    <!-- 회원정보수정 -->
 	<update id="updateMember" parameterType="mb">
     update member set <!-- passwd=#{passwd}, -->name=#{name},<!-- nickname=#{nickname}, -->age=#{age},gender=#{gender},
     zip=#{zip},address1=#{address1},address2=#{address2},email=#{email},phone=#{phone},
     profile=#{profile,jdbcType=VARCHAR},intro=#{intro} where id=#{id}
    </update> 
    
    
    <!-- 회원닉네임수정 -->
    <update id="updateNickMember" parameterType="mb">
     update member set nickname=#{nickname} where id=#{id}
    </update> 
    
    
     <!-- 회원비밀번호수정 -->
    <update id="updatePassMember" parameterType="mb">
     update member set passwd=#{passwd} where id=#{id}
    </update> 
    
    
	<!-- 회원삭제 -->
    <update id="deleteMember" parameterType="mb">
     update member set delcont=#{delcont}, state='2', deldate=sysdate where id=#{id}
    <!-- deldate=sysdate where id=#{id} -->
    </update>	
    
    
    <!-- 회원 동행 리스트 -->
    <select id="accomlist" parameterType="String" resultType="bab">
    	select * from boardaccom where id = #{id}
    </select>
    
    
    <!-- 회원 리뷰 리스트 -->
    <select id="reviewlist" parameterType="String" resultType="brb">
    	select * from boardreview where id = #{id}
    </select>       
    
       
    <!-- 회원QNA 리스트 -->
    <select id="qnalist" parameterType="String" resultType="bqb">
    	select * from boardqna where id = #{id}
    </select>      
       

</mapper>